(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d23041b"],{ec07:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"editor-page"},[r("div",{staticClass:"container page"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-10 offset-md-1 col-xs-12"},[r("RwvListErrors",{attrs:{errors:t.errors}}),r("form",{on:{submit:function(e){return e.preventDefault(),t.onPublish(t.link.id)}}},[r("fieldset",{attrs:{disabled:t.inProgress}},[r("fieldset",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.link.uri,expression:"link.uri"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Article URI"},domProps:{value:t.link.uri},on:{input:function(e){e.target.composing||t.$set(t.link,"uri",e.target.value)}}})]),r("fieldset",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.link.title,expression:"link.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"What's this link about?"},domProps:{value:t.link.title},on:{input:function(e){e.target.composing||t.$set(t.link,"title",e.target.value)}}})]),r("fieldset",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.tagInput,expression:"tagInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter tags"},domProps:{value:t.tagInput},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addTag(t.tagInput))},input:function(e){e.target.composing||(t.tagInput=e.target.value)}}}),r("div",{staticClass:"tag-list"},t._l(t.link.tags,(function(e,n){return r("span",{key:e+n,staticClass:"tag-default tag-pill"},[r("i",{staticClass:"ion-close-round",on:{click:function(r){return t.removeTag(e)}}}),t._v(" "+t._s(e)+" ")])})),0)])]),r("button",{staticClass:"btn btn-lg pull-xs-right btn-primary",attrs:{disabled:t.inProgress,type:"submit"}},[t._v(" Publish Link ")])])],1)])])])},s=[],a=r("5530"),i=(r("96cf"),r("1da1")),o=r("2f62"),u=r("4360"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"error-messages"},t._l(t.errors,(function(e,n){return r("li",{key:n},[r("span",{domProps:{textContent:t._s(n)}}),t._l(e,(function(e){return r("span",{key:e,domProps:{textContent:t._s(e)}})}))],2)})),0)},c=[],p={name:"RwvListErrors",props:{errors:{type:Object,required:!0}}},d=p,m=r("2877"),f=Object(m["a"])(d,l,c,!1,null,null,null),g=f.exports,v=r("6c33"),h={name:"RwvLinkEdit",components:{RwvListErrors:g},props:{previousLink:{type:Object,required:!1}},beforeRouteUpdate:function(t,e,r){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].dispatch(v["h"]);case 2:return t.abrupt("return",r());case 3:case"end":return t.stop()}}),t)})))()},beforeRouteEnter:function(t,e,r){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch(v["h"]);case 2:if(void 0===t.params.title){e.next=5;break}return e.next=5,u["a"].dispatch(v["a"],t.params.title,t.params.previousLink);case 5:return e.abrupt("return",r());case 6:case"end":return e.stop()}}),e)})))()},beforeRouteLeave:function(t,e,r){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].dispatch(v["h"]);case 2:r();case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{tagInput:null,inProgress:!1,errors:{}}},computed:Object(a["a"])({},Object(o["b"])(["link"])),methods:{onPublish:function(t){var e=this;console.log(t);var r=t?v["d"]:v["g"];this.inProgress=!0,this.$store.dispatch(r).then((function(t){var r=t.data;console.log(r),e.inProgress=!1,e.$router.push({name:"home"})})).catch((function(t){var r=t.response;e.inProgress=!1,e.errors=r.data.errors}))},removeTag:function(t){this.$store.dispatch(v["f"],t)},addTag:function(t){this.$store.dispatch(v["e"],t),this.tagInput=null}}},k=h,b=Object(m["a"])(k,n,s,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d23041b.d18f97c1.js.map